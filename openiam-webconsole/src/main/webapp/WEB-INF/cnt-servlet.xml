<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:aop="http://www.springframework.org/schema/aop"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
    					http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd
    					http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.0.xsd">


  	 <!-- connector list controller  -->
 
     <bean id="connectorList" class="org.openiam.webadmin.conn.def.ConnectorDefinitionListController">
		<property name="successView" value="/connector/definitionlist" />
		<property name="connectorService" ref="connectorService" />
		
     </bean>
     <bean id="connectorDetail" class="org.openiam.webadmin.conn.def.ConnectorDefinitionDetailController">
		<property name="commandName" value="connectorDetailCmd" />
		<property name="commandClass" value="org.openiam.webadmin.conn.def.ConnectorDefinitionDetailCommand" />
		<property name="formView" value="/connector/definitiondetail" />
		<property name="successView" value="/confirm" />

		<property name="connectorService" ref="connectorService" />
		
     </bean>
     
     <!-- managed system controller  -->


     <bean id="managedSysList" class="org.openiam.webadmin.conn.mngsys.ManagedSysListController">
		<property name="commandName" value="managedSysListCmd" />
		<property name="commandClass" value="org.openiam.webadmin.conn.mngsys.ManagedSysListCommand" />
		<property name="formView" value="/managedsys/syslist" />
		<property name="successView" value="/managedsys/syslist" />
		<property name="validator" ref="managedSysListValidator" />		

		<property name="managedSysService" ref="managedSysService" />
		<property name="secDomainService" ref="secDomainService" />
		
     </bean>
     <bean id="managedSysListValidator" class="org.openiam.webadmin.conn.mngsys.ManagedSysListValidator" />

     <bean id="managedSysConnection" class="org.openiam.webadmin.conn.mngsys.ManagedSysConnectionController">
		<property name="commandName" value="managedSysConnectionCmd" />
		<property name="commandClass" value="org.openiam.webadmin.conn.mngsys.ManagedSysConnectionCommand" />
		<property name="formView" value="/managedsys/sysconnection" />
		<property name="successView" value="/managedsys/confirm" />
		
		<property name="managedSysService" ref="managedSysService" />
		<property name="secDomainService" ref="secDomainService" />		
     </bean>
     <bean id="managedSysAttrMap" class="org.openiam.webadmin.conn.mngsys.ManagedSysAttrMapController">
		<property name="commandName" value="attrMapCmd" />
		<property name="commandClass" value="org.openiam.webadmin.conn.mngsys.SysAttrMapCommand" />
		<property name="formView" value="/managedsys/sysattrmap" />
		<property name="successView" value="/managedsys/sysattrmap" />
		<property name="managedSysService" ref="managedSysService" />
		<property name="secDomainService" ref="secDomainService" />				
     </bean>            
            
 <!-- Policy controllers  -->
     <bean id="attrPolicy" class="org.openiam.webadmin.policy.attr.AttributePolicyController">
		<property name="commandName" value="attrPolicyCmd" />
		<property name="commandClass" value="org.openiam.webadmin.policy.attr.AttributePolicyCommand" />
		<property name="formView" value="/policy/attrPolicy" />
		<property name="successView" value="/policy/policyList" />
		<property name="validator" ref="attrPolicyValidator" />	
		
		<property name="policyDataService" ref="policyDataService" />
     </bean>            
     
      <bean id="attrPolicyValidator" class="org.openiam.webadmin.policy.attr.AttributePolicyValidator" >
      <property name="policyDataService" ref="policyDataService" />
      </bean>

<!-- domainList controller  -->

  
  	<bean id="methodNameResolver" class="org.springframework.web.servlet.mvc.multiaction.ParameterMethodNameResolver">
  		<property name="paramName" value="method"/>
  		<property name="methodParamNames">
  			<list>
  				<value>list</value>
  				<value>save</value>
  				<value>delete</value>
  			</list>
  		</property>
  		<property name="logicalMappings">
  			<props>
  				<prop key="list">domainList</prop>
  				<prop key="save">saveDomain</prop>
  				<prop key="delete">deleteDomain</prop>
  			</props>
  		</property>
	</bean>

	<bean id="domainController" class="org.openiam.webadmin.admin.domain.DomainController">
		<property name="methodNameResolver" ref="methodNameResolver" />
		<property name="domainBean" ref="domain" />
		<property name="domainService" ref="secDomainService" />
	</bean>
	<bean id="domain" class="org.openiam.webadmin.admin.domain.DomainFormBean" />
 
      <bean id="viewResolver"  class="org.springframework.web.servlet.view.InternalResourceViewResolver">
     	<property name="prefix" value="home.jsp?bodyjsp=" />
     	<property name="suffix" value=".jsp" />
     </bean>
     
  
    <bean id="urlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="mappings">
            <props>
                <prop key="/domain.cnt">domainController</prop>
                <prop key="/connectorList.cnt">connectorList</prop>
                <prop key="/connectorDetail.cnt">connectorDetail</prop>
                <prop key="/managedSysList.cnt">managedSysList</prop>
                <prop key="/managedSysConnection.cnt">managedSysConnection</prop>
                <prop key="/managedSysAttrMap.cnt">managedSysAttrMap</prop>
                <prop key="/attrPolicy.cnt">attrPolicy</prop>
            </props>
        </property>
    </bean>
  

     
	
</beans>



