<?xml version="1.0" encoding="UTF-8"?>
<mule xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:jms="http://www.mulesoft.org/schema/mule/jms" xmlns:cxf="http://www.mulesoft.org/schema/mule/cxf"
	xmlns:vm="http://www.mulesoft.org/schema/mule/vm" xmlns:spring="http://www.springframework.org/schema/beans"
	xsi:schemaLocation="
          http://www.mulesoft.org/schema/mule/jms http://www.mulesoft.org/schema/mule/jms/3.0/mule-jms.xsd
          http://www.mulesoft.org/schema/mule/cxf http://www.mulesoft.org/schema/mule/cxf/3.0/mule-cxf.xsd
          http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/3.0/mule.xsd
          http://www.mulesoft.org/schema/mule/vm http://www.mulesoft.org/schema/mule/vm/3.0/mule-vm.xsd">

	<!-- Endpoints -->
	<cxf:endpoint name="toProvisionControllerService" address="${webservice.path}ProvisionControllerService" />
	<cxf:endpoint name="toProvisionService" address="${webservice.path}ProvisioningService" />
	<cxf:endpoint name="toExampleConnectorService" address="${webservice.path}ExampleConnectorService" />
	<cxf:endpoint name="toOracleConnectorService" address="${webservice.path}OracleConnectorService" />
	<cxf:endpoint name="toLdapConnectorService" address="${webservice.path}LDAPConnectorService" />
	<cxf:endpoint name="toADConnectorService" address="${webservice.path}ActiveDirectoryConnectorService" />
	<cxf:endpoint name="toIdentitySynchWebService" address="${webservice.path}IdentitySynchWebService" />
	<cxf:endpoint name="toReconciliationWebService" address="${webservice.path}ReconciliationWebService" />
	
	<model>
		<service name="IdentitySynchWebService">
			<inbound>
				<inbound-endpoint ref="toIdentitySynchWebService" />
			</inbound>
			<component>
				<spring-object bean="synchServiceWS" />
			</component>
		</service>
		<service name="ReconciliationWebService">
			<inbound>
				<inbound-endpoint ref="toReconciliationWebService" />
			</inbound>
			<component>
				<spring-object bean="reconServiceWS" />
			</component>
		</service>
		<service name="provisionControllerService">
			<inbound>
				<inbound-endpoint ref="toProvisionControllerService" />
			</inbound>
			<component>
				<spring-object bean="provision" />
			</component>
		</service>
		<service name="ProvisionService">
			<inbound>
				<inbound-endpoint ref="toProvisionService" />
			</inbound>
			<component>
				<spring-object bean="defaultProvision" />
			</component>
		</service>
		<service name="exampleConnectorService">
			<inbound>
				<inbound-endpoint ref="toExampleConnectorService" />
			</inbound>
			<component>
				<spring-object bean="exampleConnector" />
			</component>
		</service>
		<service name="oracleConnectorService">
			<inbound>
				<inbound-endpoint ref="toOracleConnectorService" />
			</inbound>
			<component>
				<spring-object bean="oracleConnector" />
			</component>
		</service>
		<service name="ldapConnectorService">
			<inbound>
				<inbound-endpoint ref="toLdapConnectorService" />
			</inbound>
			<component>
				<spring-object bean="ldapConnector" />
			</component>
		</service>
		<service name="adConnectorService">
			<inbound>
				<inbound-endpoint ref="toADConnectorService" />
			</inbound>
			<component>
				<spring-object bean="activeDirConnector" />
			</component>
		</service>		
	</model>
</mule>
