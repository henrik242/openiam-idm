USE openiam;

INSERT INTO `POLICY` VALUES ('4000','100','Default Pswd Policy','Default Password Policy',1,'2011-09-22 00:00:00','3000',NULL,NULL,NULL,NULL,1),('4001','103','Default Authn Policy','Default Authentication Policy',1,'2011-09-22 00:00:00','3000',NULL,NULL,NULL,NULL,1),('4501','104','cn','commonName',1,NULL,NULL,'2011-09-25 06:17:51',NULL,NULL,'output=user.firstName + \".\" + user.lastName',1),('4502','104','mail','email address',1,NULL,NULL,'2011-09-25 05:18:56',NULL,NULL,'output=user.firstName + \".\" + user.lastName + \"@openiam.org\"',1),('4503','104','o','organization name',1,NULL,NULL,'2011-09-25 05:19:11',NULL,NULL,'output=\"OpenIAM\"',1),('4504','104','ou','organizationalUnitName',1,NULL,NULL,'2011-09-25 05:19:43',NULL,NULL,'output=\"people\"',1),('4505','104','postalCode','commonName',1,NULL,NULL,'2011-09-25 05:20:42',NULL,NULL,'/*if (user.postalCd != null) { \r\noutput=user.postalCd\r\n}else {\r\noutput=null\r\n}\r\n*/\r\noutput=null',1),('4506','104','sn','surname',1,NULL,NULL,'2011-09-25 05:21:29',NULL,NULL,'output=user.lastName',1),('4507','104','st','stateOrProvinceName',1,NULL,NULL,'2011-09-25 05:21:45',NULL,NULL,'if (user.state != null && user.state.length()  > 0 ) {\r\n	output=user.state\r\n}else {\r\n	output=null\r\n}',1),('4508','104','street','streetAddress',1,NULL,NULL,'2011-09-25 05:22:04',NULL,NULL,'if (user.address1 != null) {\r\n	output=user.bldgNum + \" \" + user.streetDirection + \" \" + user.address1\r\n}else {\r\n	ouput=null\r\n}',1),('4509','104','userPassword','password',1,NULL,NULL,'2011-09-25 05:22:35',NULL,NULL,'// password variable is bound into groovy through the integration framework\r\noutput=password',1),('4510','104','postalAddress','postalAddress',1,NULL,NULL,'2011-09-25 05:23:01',NULL,NULL,'def postalAddress = null;\r\n\r\nif ( user.bldgNum != null || user.streetDirection != null || user.address1 != null ) {\r\n postalAddress = user.bldgNum + \" \" + user.streetDirection + \" \" + user.address1;\r\n}\r\nif (postalAddress == null || postalAddress.length() == 0) {\r\n	println(\"postalAddress is null\");\r\n	output=null;\r\n}else {\r\n	println(\"postalAddress =\" + postalAddress);\r\n	output = postalAddress\r\n}',1),('4511','104','telephoneNumber','Primary Telephone',1,NULL,NULL,'2011-09-25 05:23:13',NULL,NULL,'if (user.phoneNbr != null && user.phoneNbr.length()  > 0 ) {\r\n	output=user.areaCd + \"-\" +user.phoneNbr\r\n}else {\r\n	output=null\r\n}',1),('4512','104','facsimileTelephoneNumber','Fax',1,NULL,NULL,'2011-09-25 05:24:59',NULL,NULL,'output=null ',1),('4513','104','mobile','mobileTelephoneNumber',1,NULL,NULL,'2011-09-25 05:24:52',NULL,NULL,'output=null',1),('4514','104','gn','givenName',1,NULL,NULL,'2011-09-25 05:25:21',NULL,NULL,'givenName =\"\"\r\n\r\nif (user.firstName != null) {\r\n  givenName=user.firstName \r\n}\r\n\r\nif (givenName != null) {\r\noutput=givenName\r\n}else {\r\noutput=null\r\n}',1),('4515','104','uid','User Id',1,NULL,NULL,'2011-09-25 05:26:19',NULL,NULL,'/*\r\nObjects that are passed to the script:\r\n\r\nsysId - DefaultManagedSysId\r\nuser - user object\r\norg - Organization object		\r\ncontext - Spring application context. Allows you to look up any spring bean\r\n*/\r\n\r\n\r\n//loginId = user.firstName + \'.\' + user.lastName\r\n\r\nloginId = user.userAttributes.get(\"userid\").value;\r\n\r\nif (matchParam != null) {\r\n	\r\n	loginId = matchParam.keyField + \"=\" + loginId + \",\" + matchParam.baseDn\r\n}\r\n\r\n\r\n\r\nprintln(\"----uid.groovy=\" + loginId)\r\n\r\noutput = loginId',1),('4516','104','departmentCD','Department Code',1,NULL,NULL,'2011-09-25 05:26:44',NULL,NULL,'if (user.deptCd == null || user.deptCd.length() == 0)\r\n output=\"-\"\r\nelse\r\n output = user.deptCd',1),('4517','104','displayName','Display Name',1,NULL,NULL,'2011-09-25 05:27:16',NULL,NULL,'output = user.lastName + \",\" + user.firstName',1),('4518','104','employeeType','Employee Type',1,NULL,NULL,'2011-09-25 05:27:37',NULL,NULL,'if (user.employeeType != null && user.employeeType.length() > 0) {\r\noutput=user.employeeType\r\n}else {\r\noutput = null\r\n}',1),('4519','104','initials','Intials',1,NULL,NULL,'2011-09-25 05:28:01',NULL,NULL,'if (user.firstName != null && user.lastName != null) {\r\n  output =user.firstName.substring(0,1) + user.lastName.substring(0,1) \r\n}else {\r\n	output=\"\"\r\n}',1),('4521','104','objectclass','Department Number',1,NULL,NULL,'2011-09-25 05:28:22',NULL,NULL,'output=\"inetOrgPerson\"',1),('4522','104','title','Title',1,NULL,NULL,'2011-09-25 05:28:52',NULL,NULL,'if (user.title != null && user.title.length()  > 0 ) {\r\n	output=user.title\r\n}else {\r\n	output=null\r\n}',1),('4530','104','sAMAccountName','sAMAccountName',1,NULL,NULL,'2011-09-25 05:33:37',NULL,NULL,' import org.springframework.context.support.ClassPathXmlApplicationContext\r\n\r\ndef loginManager = context.getBean(\"loginManager\")\r\nloginID=user.firstName + \".\" + user.lastName\r\noutput=loginID',1),('4531','104','userPrincipalName','userPrincipalName',1,NULL,NULL,'2011-09-25 05:34:02',NULL,NULL,'import org.springframework.context.support.ClassPathXmlApplicationContext\r\n\r\ndef loginManager = context.getBean(\"loginManager\")\r\nloginID=user.firstName + \".\" + user.lastName\r\n\r\noutput=loginID',1),('4532','104','adCN','adCN',1,NULL,NULL,'2011-09-25 05:34:36',NULL,NULL,'import org.springframework.context.support.ClassPathXmlApplicationContext\r\n\r\ndef loginManager = context.getBean(\"loginManager\")\r\nloginID=\"cn=\"+user.firstName + \".\" + user.lastName\r\noutput=loginID',1),('4533','104','AccountDisabled','AccountDisabled',1,NULL,NULL,'2011-09-25 05:34:56',NULL,NULL,'loginID=user.firstName + \".\" + user.lastName\r\noutput=\"False\"',1),('4534','104','profilePath','profilePath',1,NULL,NULL,'2011-09-25 05:36:51',NULL,NULL,'output=\"c:\"',1),('4535','104','homeDirectory','homeDirectory',1,NULL,NULL,'2011-09-25 05:36:13',NULL,NULL,'output=\"\\\\\\\\Suneet-1217fcc7\\\\SYSVOL\\\\idmdev.local\"',1),('4536','104','homeDrive','homeDrive',1,NULL,NULL,'2011-09-25 05:36:31',NULL,NULL,'output=\"H:\"',1),('4537','104','scriptPath','scriptPath',1,NULL,NULL,'2011-09-25 05:37:27',NULL,NULL,'output=\"netxp.cmd\"',1),('4540','104','userDefineEmail','email address',1,NULL,NULL,'2011-09-25 05:40:10',NULL,NULL,'output=user.email',1),('4541','104','dob','Date of Birth',1,NULL,NULL,'2011-09-25 05:40:27',NULL,NULL,'output=user.birthdate',1),('4542','104','middleInit','Middle Initial',1,NULL,NULL,'2011-09-25 05:40:59',NULL,NULL,'output=user.middleInit',1),('4543','104','employeeId','Employee ID',1,NULL,NULL,'2011-09-25 05:41:20',NULL,NULL,'output=user.employeeId\r\n\r\nif (user.employeeId != null && user.employeeId.length() > 0) {\r\noutput=user.employeeId\r\n}else {\r\noutput = null\r\n}',1),('4544','104','userDefinedPassword','Password By User',1,NULL,NULL,'2011-09-25 05:41:39',NULL,NULL,'output=\"password\"',1),('4545','104','userRole','Role Membership',1,NULL,NULL,'2011-09-25 05:41:58',NULL,NULL,'import java.util.ArrayList;\r\nimport java.util.List;\r\nimport org.openiam.idm.srvc.role.dto.Role;\r\nimport org.openiam.idm.srvc.user.dto.User;\r\n\r\ndef List<Role> roleList = user.getMemberOfRoles();\r\nprintln(\"user roles =\" + roleList);\r\n\r\nif (roleList != null) {\r\n	if (roleList.size() > 0)  {\r\n		output = roleList.get(0).id.roleId;\r\n	}else {\r\n		output = null;\r\n	}\r\n}else {\r\n	output = null;\r\n}',1),('4546','104','userGroup','Group Membership',1,NULL,NULL,'2011-09-25 05:42:16',NULL,NULL,'if (user.city != null && user.city.length()  > 0 ) {\r\n	output=user.city\r\n}else {\r\n	output=null\r\n}',1),('4547','104','isEnabled','Is the User Enabled',1,NULL,NULL,'2011-09-25 05:42:57',NULL,NULL,' ',1),('4548','104','GUID','GUID',1,NULL,NULL,'2011-09-25 05:43:12',NULL,NULL,'if (user.city != null && user.city.length()  > 0 ) {\r\n	output=user.city\r\n}else {\r\n	output=null\r\n}',1),('4562','104','principal','PRIMARY_PRINICPAL',1,NULL,NULL,'2011-09-25 05:44:03',NULL,NULL,'import org.springframework.context.support.ClassPathXmlApplicationContext\r\n\r\ndef loginManager = context.getBean(\"loginManager\")\r\nloginID=user.firstName + \".\" + user.lastName\r\n\r\nctr = 1;\r\norigLoginID = loginID\r\n\r\nwhile ( loginManager.loginExists( \"USR_SEC_DOMAIN\", loginID, sysId )) {\r\n	loginID=origLoginID + ctr\r\n	ctr++\r\n}\r\n\r\noutput=loginID',1),('4563','104','password','PRIMARY_PASSWORD',1,NULL,NULL,'2011-09-25 06:13:51',NULL,NULL,'import org.openiam.idm.srvc.pswd.service.PasswordGenerator;\r\n\r\nString pswd = null;\r\n\r\n// random password generator\r\npswd = PasswordGenerator.generatePassword(8);\r\n\r\n// example of static password\r\n//pswd = \"Password\";\r\nprintln(\"Password = \" + pswd);\r\noutput=pswd',1),('4564','104','emailAddress','PRIMARY_EMAIL',1,NULL,NULL,'2011-09-25 06:15:32',NULL,NULL,'def loginManager = context.getBean(\"loginManager\")\r\nloginID=user.firstName + \".\" + user.lastName\r\n\r\nctr = 1;\r\norigLoginID = loginID\r\nwhile ( loginManager.loginExists( \"USR_SEC_DOMAIN\", loginID, sysId )) {\r\n	loginID=origLoginID + ctr\r\n	ctr++\r\n}\r\nemail = loginID + \"@openiam.com\" \r\noutput=email',1),('4565','104','domain','PRIMARY_DOMAIN',1,NULL,NULL,'2011-09-25 05:44:55',NULL,NULL,'import org.openiam.idm.srvc.role.dto.Role;\r\nimport java.util.List;\r\n\r\nList<Role> userRoles = user.memberOfRoles;\r\nif (userRoles == null || userRoles.isEmpty()) {\r\n	output=\"USR_SEC_DOMAIN\";\r\n}else {\r\n Role rl = userRoles.get(0);\r\n output = rl.id.serviceId;\r\n}',1),('4600','104','userName','Google User Name',1,NULL,NULL,'2011-09-25 05:45:45',NULL,NULL,'import org.springframework.context.support.ClassPathXmlApplicationContext\r\n\r\ndef loginManager = context.getBean(\"loginManager\")\r\n\r\nloginID=user.firstName + \".\" + user.lastName\r\n\r\nctr = 1;\r\norigLoginID = loginID\r\n\r\nwhile ( loginManager.loginExists( \"USR_SEC_DOMAIN\", loginID, sysId )) {\r\n  strCtrSize = String.valueOf(ctr)\r\n	loginID=origLoginID + ctr\r\n	ctr++\r\n}\r\n\r\noutput=loginID',1),('4601','104','firstName','Google Fist Name',1,NULL,NULL,'2011-09-25 05:46:06',NULL,NULL,'output =  user.firstName',1),('4602','104','lastName','Google Last Name',1,NULL,NULL,'2011-09-25 05:46:19',NULL,NULL,'output = user.lastName',1),('4603','104','password','Google Password',1,NULL,NULL,'2011-09-25 05:46:36',NULL,NULL,'output=password',1);

commit;